# 합병 정렬 - Merge sort

- 재귀 함수를 통해 원소가 한 개가 될때까지 계속해서 반으로 나눠 다시 합치면서 정렬하는 방식입니다.

- 데이터를 분해하고 합치는 작업에 필요한 추가적인 메모리 공간이 있어야 합니다.

- psudo Code (의사코드)로 표현하면 다음과 같습니다

  ```
  n개의 원소가 입력되었다면
  	if n > 2
  		return 
  	else
          왼쪽 절반의 요소들을 정렬
          오른쪽 절반의 요소들을 정렬
          정렬된 반을 병합
  ```

- 만약 [3, 5, 2, 6, 4, 1]을 합병 정렬을 한다고 하면 다음과 같습니다.

  - 2를 중심으로 나누어집니다. -> [3, 5, 2] | [6, 4, 1]
  - 다시 반으로 나눕니다 -> [3, 5] / [2] | [6, 4] / [1]
  - 다시 반으로 나눕니다 -> [3] / [5]/ [2] | [6]/ [4]/ [1]
  - 더이상 나눠질게 없으면 정렬하면서 합병합니다 -> [3, 5]  / [2] | [4, 6] / [1]
  - 정렬하면서 합병합니다 ->[2, 3, 5] | [1, 4, 6]
  - 정렬하면서 합병합니다 ->[1, 2, 3, 4, 5, 6]

- 이렇게 나누어지고 합쳐지는 중간 단계의 배열을 임시로 저장하고 함수가 종료 될때까지 기억하고 있어야 하기 때문에 메모리의 필요한 공간이 늘어나게 됩니다.

- 이제 실행 시간을 알아보겠습니다.

  - 우선 나누는 작업을 먼저 알아보면 n개의 원소가 있을때 다 나우어지기까지 호출되는 함수의 개수는 log n 입니다. 예를들어 8개의 원소를 다 나누는데는 3번의 작업이 필요합니다.
  - 그리고 합쳐지는 과정에서 각 원소의 크기를 비교해야 하기 때문에 n번의 비교과정이 있습니다. 즉 한번 나누어 질때마다 n번의 비교 횟수가 추가되게 됩니다.
  - 따라서 합병정렬의 시간복잡도는 최악의 경우 O(n log n)이 됩니다.